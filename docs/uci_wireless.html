<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Wireless configuration</title>


    <meta name="description"
          content="Linux Embedded Development Environment, an embedded Linux distribution that makes it easy for developers, system administrators or other Linux enthusiasts to build and customize software for embedded devices, especially wireless routers."/>

    <link rel="stylesheet" href="/lede-web/css/foundation.css"/>
    <link rel="stylesheet" href="/lede-web/css/font-awesome.css"/>
    <link rel="stylesheet" href="/lede-web/css/coderay.css"/>
    <link rel="stylesheet" href="/lede-web/css/asciidoctor.css"/>
    <link rel="stylesheet" href="/lede-web/css/lede.css"/>
    <script src="/lede-web/js/vendor/modernizr.js"></script>
    <script src="/lede-web/js/toc.js"></script>
</head>
<body>


<!-- Nav Bar -->

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <!-- Title Area -->
        <li class="name">
            <h1>
                <a href="#">
                    <img src="/lede-web/logo/logo_small.png"></img>
                    <span class="top-bar-title">Wireless configuration</span>
                </a>
            </h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>
    <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li><a href="/lede-web/index.html">Home</a></li>
<li><a href="/lede-web/communication.html">Communication</a></li>
<li><a href="/lede-web/rules.html">Rules</a></li>
<li><a href="/lede-web/development.html">Development</a></li>
<li><a href="/lede-web/todo.html">Todo</a></li>
<li><a href="/lede-web/downloads.html">Downloads</a></li>
<li class="active"><a href="/lede-web/docs/index.html">Documentation</a></li>
<li><a href="/lede-web/about.html">About</a></li>

        </ul>
    </section>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->

<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns" role="content">

        <div class="sect1">
<h2 id="wireless_configuration">Wireless configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The wireless UCI configuration is located in <strong><em>/etc/config/wireless</em></strong>. Learn about the entire [[doc:howto:wireless.overview|IEEE 802.11 "wireless" subsystem]].</p>
</div>
<div class="paragraph">
<p>By default the wireless is <strong>OFF</strong>. You can turn it on in the <em>/etc/config/wireless</em> by changing <em>disabled 1</em> to <em>disabled 0</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sections">Sections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A typical wireless config file contains at least one <em>wifi device</em> specifying general radio properties like channel, driver type and txpower and one <em>wifi interface</em> defining a wireless network on top of the radio device.</p>
</div>
<div class="sect2">
<h3 id="wifi_devices">Wifi Devices</h3>
<div class="paragraph">
<p>The <em>wifi-device</em> refer to physical radio devices present on the system. The options present in this section describe properties common across all wireless networks on this radio interface, such as channel or antenna selection.</p>
</div>
<div class="paragraph">
<p>A minimal <em>wifi-device</em> declaration may look like the example below. Note that identifiers and options may vary for different chipset types or drivers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'wifi-device' 'wl0'
	option 'type'    'broadcom'
	option 'channel' '6'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>wl0</em> is the <em>internal identifier</em> for the wireless adapter</p>
</li>
<li>
<p><em>broadcom</em> specifies the <em>chipset/driver type</em></p>
</li>
<li>
<p><em>6</em> is the <em>wireless channel</em> the device operates on</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The possible options for device sections are listed in the table below.
Note that not all options are used for all chipset/driver types, refer to the comments for further details.</p>
</div>
</div>
<div class="sect2">
<h3 id="common_options">Common Options</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(autodetected)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>type</em> is determined on firstboot during the initial radio device detection - it is usually not required to change it. Used values are <em>broadcom</em> on brcm47xx, or <em>mac80211</em> for all other platforms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>phy</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no/yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(autodetected)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the radio phy associated to this section. If present, it is usually autodetected and should not be changed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>macaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAC address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes/no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(autodetected)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the radio adapter associated to this section, it is <em>not</em> used to change the device mac but to identify the underlying interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ifname</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a custom name for the wifi interface, which is otherwise automatically named.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disabled</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disables the radio adapter if set to <em>1</em>. Removing this option or setting it to <em>0</em> will enable the adapter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>channel</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer or "auto"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auto</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the wireless channel to use. "auto" defaults to the lowest available channel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>hwmode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects the wireless protocol to use, possible values are <em>11b</em>, <em>11g</em>, and <em>11a</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>htmode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the channel width in 802.11n and 802.11ac mode, possible values are: <em>HT20</em>, <em>HT40-</em>, <em>HT40+</em>, <em>HT40</em>, <em>NONE</em> or <em>VHT20</em>, <em>VHT40</em>,  <em>VHT80</em>, <em>VHT160</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>chanbw</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a narrow channel width in MHz, possible values are: <em>5</em>, <em>10</em>, <em>20</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ht_capab</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the available capabilities of the radio. The values are autodetected. See <a href="http://hostap.epitest.fi/cgit/hostap/tree/hostapd/hostapd.conf">here</a> for options</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>txpower</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>transmission power in dBm</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>diversity</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables or disables the automatic antenna selection by the driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rxantenna</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>antenna for receiving</em>, the value may be driver specific, usually it is <em>1</em> for the first and <em>2</em> for the second antenna. Specifying <em>0</em> enables automatic selection by the driver if supported. This option has no effect if diversity is enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>txantenna</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>antenna for transmitting</em>, values are identical to <em>rxantenna</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>country</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">varies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the country code, affects the available channels and transmission powers. For type <em>broadcom</em> a two letter country code is used (<em>EN</em> or <em>DE</em>). The <em>madwifi</em> driver expects a numeric code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>country_ie</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 if <em>country</em> is set, otherwise 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables IEEE 802.11d country IE (information element) advertisement in beacon and probe response frames. This IE contains the country code and channel/power map. Requires <em>country</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>distance</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distance between the ap and the furthest client in meters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>beacon_int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>100 (hostapd default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the beacon interval. This is the time interval between beacon frames, measured in units of 1.024 ms. hostapd permits this to be set between 15 and 65535. This option only has an effect on <em>ap</em> and <em>adhoc</em> wifi-ifaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>basic_rate</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(hostapd/driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the supported basic rates. Each basic_rate is measured in kb/s. This option only has an effect on <em>ap</em> and <em>adhoc</em> wifi-ifaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>supported_rates</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(hostapd/driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the supported data rates. Each supported rate is measured in kb/s. This option only has an effect on <em>ap</em> and <em>adhoc</em> wifi-ifaces. Must be a superset of basic_rate. Basic_rate should be the lowest data rates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>require_mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(AP mode) Set the minimum mode that connecting clients need to support to be allowed to connect. Supported values: g = 802.11g, n = 802.11n, ac = 802.11ac</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>log_level</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the log_level. Supported levels are: 0 = verbose debugging, 1 = debugging, 2 = informational messages, 3 = notification, 4 = warning</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="broadcom_options">Broadcom Options</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The options below are only used by the proprietary Broadcom driver (type <em>broadcom</em>).
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>frameburst</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables Broadcom frame bursting if supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maxassoc</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limits the maximum allowed number of associated clients</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>slottime</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slot time in milliseconds</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ubiquity_nanostation_options">Ubiquity Nanostation Options</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The options below are only used by the Ubiquity Nanostation family of devices
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>antenna</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects the antenna, possible values are <em>vertical</em> for internal vertical polarization, <em>horizontal</em> for internal horizontal polarization or <em>external</em> to use the external antenna connector</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="wifi_networks">Wifi Networks</h3>
<div class="paragraph">
<p>A complete wireless configuration contains at least one <em>wifi-iface</em> section per adapter to define a wireless network on top of the hardware. Some drivers support multiple wireless networks per device:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>broadcom</em> if the core revision is greater or equal <em>9</em> (see <em>dmesg | grep corerev</em>)</p>
</li>
<li>
<p><em>mac80211</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A minimal example for a <em>wifi-iface</em> declaration is given below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'wifi-iface'
	option 'device'     'wl0'
	option 'network'    'lan'
	option 'mode'       'ap'
	option 'ssid'       'MyWifiAP'
	option 'encryption' 'psk2'
	option 'key'        'secret passphrase'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>wl0</em> is the identifier for the underlying radio hardware</p>
</li>
<li>
<p><em>lan</em> specifies the network interface that the wifi is attached to.</p>
</li>
<li>
<p><em>ap</em> is the opetion mode, <em>Access Point</em> in this example</p>
</li>
<li>
<p><em>MyWifiAP</em> is the broadcasted SSID</p>
</li>
<li>
<p><em>psk2</em> specifies the wireless encryption method, WPA2 PSK here</p>
</li>
<li>
<p><em>secret passphrase</em> is the secret WPA passphrase</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="common_options_2">Common Options</h3>
<div class="paragraph">
<p>The common configuration option for <em>wifi-iface</em> sections are listed below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>device</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(first device id)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the used wireless adapter, must refer to one of the defined <em>wifi-device</em> sections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects the operation mode of the wireless network interface controller. Possible values are <em>ap</em>, <em>sta</em>, <em>adhoc</em>, <em>wds</em>, <em>monitor</em>, <em>mesh</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disabled</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to 1, wireless network is disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ssid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lede'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The broadcasted SSID of the wireless network and for for managed mode the SSID of the network you&#8217;re connecting to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>bssid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BSSID address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override the BSSID of the network, only applicable in <em>adhoc</em> or <em>sta</em> mode. In <em>wds</em> mode specifies the BSSID of another AP to create WDS with.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mesh_id</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mesh ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Mesh ID as defined in IEEE 802.11s. If set, the wireless interface will join this mesh network when brought up.  If not, it is necessary to invoke <em>iw &lt;iface&gt; mesh join &lt;mesh_id&gt;</em> to join a mesh after the interface is brought up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>hidden</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turns off SSID broadcasting if set to <em>1</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>isolate</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isolate wireless clients from each other, only applicable in <em>ap</em> mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>doth</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables 802.11h support.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wmm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables WMM (802.11e) support. Required for 802.11n support</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>network</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>lan</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the network interface to attach the wireless to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>encryption</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wireless encryption method. Possible values are: <em>none</em>, <em>wep</em>, <em>psk</em>, <em>psk2</em>. For WEP station mode the default is "open system" authentication. Use <em>wep+shared</em>, <em>wep+open</em>, <em>wep+mixed</em> to focre a specific mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>key</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer or string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In any <strong>WPA-PSK</strong> mode, this is a string that specifies the pre-shared passphrase from which the pre-shared key will be derived. If a 64-character hexadecimal string is supplied, it will be used directly as the pre-shared key instead. In <strong>WEP</strong> mode, this can be an integer specifying which key index to use (<em>key1</em>, <em>key2</em>, <em>key3</em>, or <em>key4</em>.) Alternatively, it can be a string specifying a passphrase or key directly, as in <em>key1</em>. In any <strong>WPA-Enterprise AP</strong> mode, this option has a different interpretation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>key1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WEP passphrase or key #1 (selected by the index in <em>key</em>). This string is treated as a passphrase from which the WEP key will be derived. If a 10- or 26-character hexadecimal string is supplied, it will be used directly as the WEP key instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>key2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WEP passphrase or key #2 (selected by the index in <em>key</em>), as in <em>key1</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>key3</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WEP passphrase or key #3 (selected by the index in <em>key</em>), as in <em>key1</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>key4</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WEP passphrase or key #4 (selected by the index in <em>key</em>), as in <em>key1</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>macfilter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disable</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>mac filter policy</em>, <em>disable</em> to disable the filter, <em>allow</em> to treat it as whitelist or <em>deny</em> to treat it as blacklist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maclist</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of MAC addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of MAC addresses (divided by spaces) to put into the mac filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>iapp_interface</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a network interface to be used for 802.11f (IAPP) - only enabled when defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rsn_preauth</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow preauthentication for WPA2-EAP networks (and advertise it in WLAN beacons). Only works if the specified network interface is a bridge.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ieee80211w</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables MFP (802.11w) support (0 = disabled, 1 = optional, 2 = required). <strong>Not supported by all drivers</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ieee80211w_max_timeout</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(hostapd default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the 802.11w Association SA Query maximum timeout.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ieee80211w_retry_timeout</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(hostapd default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the 802.11w Association SA Query retry timeout.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maxassoc</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(hostapd/driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maximum number of clients to connect.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>macaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mac address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(hostapd/driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overrides the MAC address used for the wifi interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dtim_period</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>2 (hostapd default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the DTIM (delivery traffic information message) period. There will be one DTIM per this many beacon frames. This may be set between 1 and 255. This option only has an effect on <em>ap</em> wifi-ifaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>short_preamble</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set optional use of short preamble</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>max_listen_int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>65535 (hostapd default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the maximum allowed STA (client) listen interval. Association will be refused if a STA attempts to associate with a listen interval greater than this value. This option only has an effect on <em>ap</em> wifi-ifaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mcast_rate</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(driver default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the fixed multicast rate, measured in kb/s. <strong>Only supported in adhoc mode</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wds</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This sets <a href=":http://wireless.kernel.org/en/users/Documentation/iw#using_4-address_for_ap_and_client_mode">4-address mode</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="wpa_modes">WPA Modes</h3>
<div class="paragraph">
<p>Besides the WPA mode, the <em>encryption</em> option also specifies the group and peer ciphers to use. To override the cipher, the value of <em>encryption</em> must be given in the form <em>mode+cipher</em>. See the listing below for possible combinations. If the <em>hwmode</em> of the interface is set to <em>ng</em> or <em>na</em>, then the <em>CCMP</em> cipher is always added to the list.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">WPA Version</th>
<th class="tableblock halign-left valign-top">Ciphers</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk2+tkip+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk2+tkip+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk2+tkip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk2+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk2+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk+tkip+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk+tkip+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk+tkip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Personal (PSK)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk-mixed+tkip+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Personal (PSK) mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk-mixed+tkip+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Personal (PSK) mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk-mixed+tkip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Personal (PSK) mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk-mixed+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Personal (PSK) mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk-mixed+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Personal (PSK) mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>psk-mixed</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Personal (PSK) mixed mode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa2+tkip+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa2+tkip+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa2+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa2+aes</em>'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Enterprise</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa2+tkip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA2 Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa+tkip+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa+tkip+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa+tkip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Enterprise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Enterprise</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa-mixed+tkip+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Enterprise mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa-mixed+tkip+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Enterprise mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP, AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa-mixed+tkip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Enterprise mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TKIP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa-mixed+ccmp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Enterprise mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa-mixed+aes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Enterprise mixed mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa-mixed</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA/WPA2 Enterprise mixed mode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="wpa_enterprise_access_point">WPA Enterprise (Access Point)</h3>
<div class="paragraph">
<p>Listing of Access Point related options for WPA Enterprise.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADIUS server to handle client authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>port</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1812</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADIUS port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>key</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shared RADIUS secret</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wpa_group_rekey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>600</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPA Group Cipher rekeying interval in seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth_server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADIUS authentication server to handle client authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth_port</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1812</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADIUS authentication port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth_secret</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shared authentication RADIUS secret</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth_cache</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disable or enable PMKSA and Opportunistic Key Caching</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>acct_server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADIUS accounting server to handle client authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>acct_port</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1813</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADIUS accounting port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>acct_secret</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shared accounting RADIUS secret</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>nasid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NAS ID to use for RADIUS authentication requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ownip</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NAS IP Address to use for RADIUS authentication requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dae_client</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic Authorization Extension client. This client can send "Disconnect-Request" or "CoA-Request" packets to forcibly disconnect a client or change connection parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dae_port</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>3799</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port the Dynamic Authorization Extension server listens on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dae_secret</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shared DAE secret.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dynamic_vlan</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic VLAN assignment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vlan_naming</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN Naming</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vlan_tagged_interface</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN Tagged Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vlan_bridge</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN Bridge Naming Scheme - added in [[https:_dev.openwrt.org/changeset/43473/</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="wpa_enterprise_client">WPA Enterprise (Client)</h3>
<div class="paragraph">
<p>Listing of Client related options for WPA Enterprise.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>eap_type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the EAP protocol to use, possible values are <em>tls</em> for EAP-TLS and <em>peap</em> or <em>ttls</em> for EAP-PEAP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>MSCHAPV2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"auth=PAP"/PAP/MSCHAPV2 - Defines the phase 2 (inner) authentication method to use, only applicable if <em>eap_type</em> is <em>peap</em> or <em>ttls</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>identity</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EAP identity to send during authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password to send during EAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ca_cert</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the path the CA certificate used for authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>client_cert</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the client certificate used for the authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>priv_key</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the path to the private key file used for authentication, only applicable if <em>eap_type</em> is set to <em>tls</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>priv_key_pwd</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password to unlock the private key file, only works in conjunction with <em>priv_key</em></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
When using WPA Enterprise type PEAP with Active Directory Servers, the "auth" option must be set to "auth=MSCHAPV2" or "auth=PAP"
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>	option auth 'auth=MSCHAPV2'</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	option auth 'auth=PAP'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wps_options">WPS Options</h3>
<div class="paragraph">
<p>Listing of <a href="http://en.wikipedia.org/wiki/Wi-Fi_Protected_Setup">Wi-Fi Protected Setup</a> related options.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Support for WPS is provided by packages <em>wpad</em> and <em>hostapd-utils</em>. Default package <em>wpad-mini</em> is not enough.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
WPS is possible only when encryption PSK/PSK2 is selected.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_config</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of configuration methods. Currentlly supported methods are: <em>push_button</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_device_name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LEDE AP</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-friendly description of device; up to 32 octets encoded in UTF-8.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_device_type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>6-0050F204-1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary device type.  Examples: <em>1-0050F204-1</em> (Computer / PC), <em>1-0050F204-2</em> (Computer / Server), <em>5-0050F204-1</em> (Storage / NAS), <em>6-0050F204-1</em> (Network Infrastructure / AP)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_label</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable <em>label</em> configuration method.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_manufacturer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>lede-project.org</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The manufacturer of the device (up to 64 ASCII characters).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_pushbutton</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable <em>push-button</em> configuration method.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wps_pin</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The PIN to use with WPS-PIN (only in external registrar mode?)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Minimal steps needed to get WPS running:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add <em>option wps_pushbutton '1</em> ' to a <em>config wifi-iface</em> section that is configured for WPA2-PSK in /etc/config/wireless</p>
</li>
<li>
<p>opkg update</p>
</li>
<li>
<p>opkg remove wpad-mini</p>
</li>
<li>
<p>opkg install wpad hostapd-utils</p>
</li>
<li>
<p>reboot</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After rebooting, instead of pushing the WPS button, you can manually initiate the WPS process (which is safer than using the button if it doubles as a reset button, like on the [[toh:tp-link/tl-wr1043nd|TL-WR1043ND v2]] e.g.):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>hostapd_cli wps_pbc</pre>
</div>
</div>
<div class="paragraph">
<p>When using WPS-PIN:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add <em>option wps_label '1</em> ' to a <em>config wifi-iface</em> section that is configured for WPA2-PSK in /etc/config/wireless</p>
</li>
<li>
<p>opkg update</p>
</li>
<li>
<p>opkg remove wpad-mini</p>
</li>
<li>
<p>opkg install wpad hostapd-utils</p>
</li>
<li>
<p>reboot</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After rebooting, the WPS PIN needs to be given to hostapd each time a station tries to connect. The PIN may <strong>NOT</strong> be used multiple times, as an active attacker can recover half of it during each try. The "any" keyword can be replaced by the specific stations EUUID, as printed in hostapd log.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>hostapd_cli wps_pin any $PIN</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fast_bss_transition_options">Fast BSS transition Options</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ieee80211r</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables fast BSS transition (802.11r) support.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>nasid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMK-R0 Key Holder identifier (dot11FTR0KeyHolderID). A 1 to 48 octet identifier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mobility_domain</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>4f57</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mobility Domain identifier (dot11FTMobilityDomainID, MDID). MDID is used to indicate a group of APs (within an ESS, i.e., sharing the same SSID) between which a STA can use Fast BSS Transition. 2-octet identifier as a hex string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>r0_key_lifetime</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>10000</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default lifetime of the PMK-RO in minutes [1-65535].</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>r1_key_holder</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>00004f577274</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMK-R1 Key Holder identifier (dot11FTR1KeyHolderID). A 6-octet identifier as a hex string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>reassociation_deadline</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1000</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reassociation deadline in time units (TUs / 1.024 ms, 1000-65535)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>r0kh</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of R0KHs in the same Mobility Domain. Valid format: &lt;MAC address&gt;,&lt;NAS Identifier&gt;,&lt;128-bit key as hex string&gt; This list is used to map R0KH-ID (NAS Identifier) to a destination MAC address when requesting PMK-R1 key from the R0KH that the STA used during the Initial Mobility Domain Association.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>r1kh</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of R1KHs in the same Mobility Domain. Valid format: &lt;MAC address&gt;,&lt;R1KH-ID&gt;,&lt;128-bit key as hex string&gt;  This list is used to map R1KH-ID to a destination MAC address when sending PMK-R1 key from the R0KH. This is also the list of authorized R1KHs in the MD that can request PMK-R1 keys.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pmk_r1_push</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether PMK-R1 push is enabled at R0KH.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="inactivity_timeout_options">Inactivity Timeout Options</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disassoc_low_ack</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disassociate stations based on excessive transmission failures or other indications of connection loss. This depends on the driver capabilities and may not be available with all drivers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>max_inactivity</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>300</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Station inactivity limit in seconds: If a station does not send anything in ap_max_inactivity seconds, an empty data frame is sent to it in order to verify whether it is still in range. If this frame is not ACKed, the station will be disassociated and then deauthenticated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>skip_inactivity_poll</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The inactivity polling can be disabled to disconnect stations based on inactivity timeout so that idle stations are more likely to be disconnected even if they are still in range of the AP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>max_listen_interval</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>65535</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum allowed Listen Interval (how many Beacon periods STAs are allowed to remain asleep).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="start_stop_wireless">Start/Stop Wireless</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Wireless interfaces are brought up and down with the <em>wifi</em> command. To (re)start the wireless after a configuration change, use <em>wifi</em>, to disable the wireless, run <em>wifi down</em>. In case your platform carries multiple wireless devices it is possible to start or run down each of them individually by making the <em>wifi</em> command be followed by the device name as a second parameter. Note: The <em>wifi</em> command has an optional first parameter that defaults to <em>up</em> , i.e. start the device. To make the second parameter indeed a second parameter it is mandatory to give a first parameter which can be anything except <em>down</em>. E.g. to start the interface <em>wlan2</em> issue:  <em>wifi up wlan2</em>; to stop that interface: <em>wifi down wlan2</em>. If the platform has also e.g. wlan0 and wlan1 these will not be touched by stopping or starting wlan2 selectively.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="regenerate_configuration">Regenerate Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To rebuild the configuration file, e.g. after installing a new wireless driver, remove the existing wireless configuration (if any) and use the <em>wifi detect</em> command with stdout redirected to the <em>/etc/config/wireless</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rm -f /etc/config/wireless
wifi detect &gt; /etc/config/wireless</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="40_mhz_channel_width_up_to_300_mbps_for_802_11n_devices_only">40 MHz channel width (up to 300 Mbps) for 802.11n devices ONLY</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default max channel with of 20MHz supports a max speed of 150Mbps. Increasing this to 40MHz will increase the maximum theoretical speed to 300Mbps. The catch is that in areas with a lot of wifi traffic (and Bluetooth etc. which share the same radio frequencies), 40MHz may decrease your overall speed.  Devices <strong>should</strong> detect interference when using 40MHz, and drop back to 20MHz. Edit htmode options in the file /etc/config/wireless and restart the wifi AP to test various channel widths. Note that option <em>htmode</em> should be set to either HT40+ (for channels 1-7) or HT40- (for channels 5-11) or simply HT40.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dfs_radar_detection">DFS / Radar Detection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In many countries, operating WiFi devices on some or all channels in the 5GHz band requires radar detection and DFS <a href="http://wifi-insider.com/wlan/dfs.htm">(explanation)</a>. If you define a channel in your wireless config that requires DFS according to your country regulations, the 5GHz radio device won&#8217;t start up unless the firmware image is able to provide DFS support (i.e. it is both included and enabled). More technical details of the Linux implementation can be found <a href="http://wireless.kernel.org/en/developers/DFS">here</a>. DFS works as follows in Linux: The driver detects radar pulses and reports this to nl80211 where the information is processed.  If a series of pulses matches one of the defined radar patterns, this will be reported to the user space application (e.g. hostapd) which in turn reacts by switching to another channel.</p>
</div>
<div class="paragraph">
<p>The following configuration selects channel 104 which needs DFS support as implicitly stated with country code DE:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config wifi-device  radio0
	option type     mac80211
	option channel  104
	option hwmode	11a
	option path	'pci0000:00/0000:00:00.0'
	option htmode	HT20
	option country 'DE'

config wifi-iface
	option device   radio0
	option network  lan
	option mode     ap
	option ssid     OpenWrt
	option encryption none</pre>
</div>
</div>
<div class="paragraph">
<p>You can check the country (regulatory domain) your WiFi card thinks it must conform to with</p>
</div>
<div class="listingblock">
<div class="content">
<pre>iw reg get</pre>
</div>
</div>
<div class="paragraph">
<p>If in doubt, double check your hostapd-phy.conf to make sure it contains the following values, and that your country code is set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>country_code=DE
ieee80211n=1
ieee80211d=1
ieee80211h=1
hw_mode=a</pre>
</div>
</div>
<div class="paragraph">
<p>If radar detection is working, DFS channels will show up like this (here for Belgium, <em>iw phy1 info</em> output trimmed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Frequencies:
* 5220 MHz [44] (17.0 dBm)
* 5240 MHz [48] (17.0 dBm)
* 5260 MHz [52] (20.0 dBm) (radar detection)
DFS state: usable (for 2155257 sec)
DFS CAC time: 60000 ms
* 5280 MHz [56] (20.0 dBm) (radar detection)
DFS state: usable (for 2155257 sec)
DFS CAC time: 60000 ms</pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
When DFS is on, there will be a delay before the interface is enabled (e.g. after reboot). During this time period (often 60 seconds, and determined by local reglations) luci will report the interface is disabled. This time period is used to detect the presence of other signals on the channel (Channel Availability Check Time).  This process can be monitored with:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>logread -f</pre>
</div>
</div>
<div class="paragraph">
<p>If you select a channel that requires DFS in your country and enable HT40, this may result in the <strong>DFS start_dfs_cac() failed</strong> error (visible with logread):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Configuration file: /var/run/hostapd-phy1.conf
wlan1: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
wlan1: interface state COUNTRY_UPDATE-&gt;HT_SCAN
wlan1: interface state HT_SCAN-&gt;DFS
wlan1: DFS-CAC-START freq=5680 chan=136 sec_chan=-1, width=0, seg0=0, seg1=0, cac_time=60s
DFS start_dfs_cac() failed, -1
Interface initialization failed
wlan1: interface state DFS-&gt;DISABLED
wlan1: AP-DISABLED
hostapd_free_hapd_data: Interface wlan1 wasn't started</pre>
</div>
</div>
<div class="paragraph">
<p>Changing your configuration to HT20 should resolve this.</p>
</div>
</div>
</div>

    </div>

    <!-- End Main Content -->

    <!-- Sidebar -->

    <aside class="large-3 columns">
        
            <h4>Documents</h4>
<div class="panel">
    <div id="toc" class="toc">
        <ul class="sectlevel0">
            <li><a href="index.html">Overview</a></li>
            <li><a href="config.html">Configuration</a></li>
            <li><a href="ubus.html">uBus</a></li>
            <li><a href="procd.html">Procd</a></li>
            <li><a href="uci.html">UCI Document</a></li>
            <ul class="sectlevel0">
                <li><a href="uci_dnsmasq.html">DHCP</a></li>
                <li><a href="uci_dropbear.html">Dropbear</a></li>
                <li><a href="uci_firewall.html">Firewall</a></li>
                <li><a href="uci_fstab.html">FSTab</a></li>
                <li><a href="uci_net.html">Network</a></li>
                <li><a href="uci_qos.html">QoS</a></li>
                <li><a href="uci_samba.html">Samba</a></li>
                <li><a href="uci_system.html">System</a></li>
                <li class="active"><a href="uci_wireless.html">Wireless</a></li>
            </ul>
        </ul>
    </div>
</div>

        
    </aside>

    <!-- End Sidebar -->
</div>

<!-- End Main Content and Sidebar -->


<!-- Footer -->

<footer class="row">
    <div class="large-12 columns">
        <hr/>
        <div class="row">
            <div class="large-12 columns">
                <p>Last updated 2016-05-24 14:04:48</p>
            </div>
        </div>
    </div>
</footer>

<script src="/lede-web/js/vendor/jquery.js"></script>
<script src="/lede-web/js/foundation.min.js"></script>
<script>
    $(document).foundation();

    var doc = document.documentElement;
    doc.setAttribute('data-useragent', navigator.userAgent);
</script>
</body>
</html>
