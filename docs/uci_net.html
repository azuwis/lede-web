<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Network configuration</title>


    <meta name="description"
          content="Linux Embedded Development Environment, an embedded Linux distribution that makes it easy for developers, system administrators or other Linux enthusiasts to build and customize software for embedded devices, especially wireless routers."/>

    <link rel="stylesheet" href="/lede-web/css/foundation.css"/>
    <link rel="stylesheet" href="/lede-web/css/font-awesome.css"/>
    <link rel="stylesheet" href="/lede-web/css/coderay.css"/>
    <link rel="stylesheet" href="/lede-web/css/asciidoctor.css"/>
    <link rel="stylesheet" href="/lede-web/css/lede.css"/>
    <script src="/lede-web/js/vendor/modernizr.js"></script>
    <script src="/lede-web/js/toc.js"></script>
</head>
<body>


<!-- Nav Bar -->

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <!-- Title Area -->
        <li class="name">
            <h1>
                <a href="#">
                    <img src="/lede-web/logo/logo_small.png"></img>
                    <span>Network configuration</span>
                </a>
            </h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>
    <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li><a href="/lede-web/index.html">Home</a></li>
<li><a href="/lede-web/communication.html">Communication</a></li>
<li><a href="/lede-web/rules.html">Rules</a></li>
<li><a href="/lede-web/development.html">Development</a></li>
<li><a href="/lede-web/todo.html">Todo</a></li>
<li><a href="/lede-web/downloads.html">Downloads</a></li>
<li class="active"><a href="/lede-web/docs/index.html">Documentation</a></li>
<li><a href="/lede-web/about.html">About</a></li>

        </ul>
    </section>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->

<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns" role="content">

        <div class="sect1">
<h2 id="network_configuration">Network configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The central network configuration is located in the file <strong><em>/etc/config/network</em></strong>. This configuration file is responsible for defining <em>switch VLANs</em>, <em>interface configurations</em> and <em>network routes</em>.</p>
</div>
<div class="paragraph">
<p>After editing and saving <em>/etc/config/network</em> you need to execute <em>/etc/init.d/network reload</em> to stop and restart the network before any changes take effect. Rebooting the router is not necessary.</p>
</div>
<div class="paragraph">
<p>Feel free to inform yourself about <a href="procd.html">netifd</a> (Network Interface Daemon).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sections">Sections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is an overview of the section types that may be defined in the network configuration. A minimal network configuration for a router usually consists of at least two <em>interfaces</em> (<em>lan</em> and <em>wan</em>) and a <em>switch</em> section if applicable.</p>
</div>
<div class="sect2">
<h3 id="global_settings">Global Settings</h3>
<div class="paragraph">
<p>The <em>globals</em> section contains interface-independent options affecting the network configuration in general.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ula_prefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6-prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 ULA-Prefix for this device</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="switch">Switch</h3>
<div class="paragraph">
<p>The <em>switch</em> section is responsible for partitioning the switch into several <em>VLANs</em> which appear as independent interfaces in the system although they share the same hardware. <strong>Not every OpenWrt supported device (or architecture, like x86) has a programmable switch</strong>, therefore this section might not be present on some platforms. Please also note, that some switches only support 4Bit-VLANs.</p>
</div>
<div class="paragraph">
<p>There are currently two different configuration formats in use, one for the legacy <em>/proc/switch/</em> API and one for the newer swconfig-based switch configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc_switch">/proc/switch</h3>
<div class="paragraph">
<p>This variant is actually only found on Broadcom devices like the WRT54GL.</p>
</div>
<div class="paragraph">
<p>A typical configuration for it looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'switch' 'eth0'
	option 'vlan0' '0 1 2 3 5*'
	option 'vlan1' '4 5'</pre>
</div>
</div>
<div class="paragraph">
<p>The <em>eth0</em> identifier specifies the switch the section is belonging to.
VLANs are defined by <em>vlan#</em> options with <em>#</em> being the VLAN number.</p>
</div>
</div>
<div class="sect2">
<h3 id="swconfig">swconfig</h3>
<div class="paragraph">
<p>The newer swconfig framework is intended to replace the legacy switch configuration.</p>
</div>
<div class="paragraph">
<p>Configuration for swconfig have a slightly different structure with one extra section per VLAN.
The example below shows a typical configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'switch' 'eth0'
	option 'reset' '1'
	option 'enable_vlan' '1'

config 'switch_vlan' 'eth0_1'
	option 'device' 'eth0'
	option 'vlan' '1'
	option 'ports' '0 1 2 3 5t'

config 'switch_vlan' 'eth0_2'
	option 'device' 'eth0'
	option 'vlan' '2'
	option 'ports' '4 5t'</pre>
</div>
</div>
<div class="paragraph">
<p>Common properties are defined within the <em>switch</em> section; vlan specific properties are located in additional <em>switch_vlan</em> sections linked to the <em>switch</em> section through the <em>device</em> option.</p>
</div>
</div>
<div class="sect2">
<h3 id="interfaces">Interfaces</h3>
<div class="paragraph">
<p>Sections of the type <em>interface</em> declare logical networks serving as containers for IP address settings, aliases, routes, physical interface names and firewall rules - they play a central role within the OpenWrt configuration concept.</p>
</div>
<div class="paragraph">
<p>A minimal interface declaration consists of the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'wan'
	option 'proto' 'dhcp'
	option 'ifname' 'eth0.1'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>wan</em> is a unique <em>logical interface name</em></p>
</li>
<li>
<p><em>dhcp</em> specifies the <em>interface protocol</em>, DHCP in this example</p>
</li>
<li>
<p><em>eth0.1</em> is the <em>physical interface</em> associated with this section</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: The system limits the interface name length to 15 characters including the automatically added prefix that is added for some protocols (e.g. "6in4-", "pppoa-", "pppoe-") or due to bridge status ("br-"). Depending on the protocol type, the <em>logical interface name</em> may thus be limited to only 9 characters. E.g. <em>abcde67890</em> is a valid interface name for a normal interface using dhcp, but not for a pppoe interface where the final name would be <em>pppoe-abcde67890</em>, which is &gt;15 chars. Using a too long name may lead into errors, as some of the settings in network, firewall or dhcp config may be left unapplied.</p>
</div>
<div class="paragraph">
<p>The <em>interface protocol</em> may be one of the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 57.1428%;">
<col style="width: 28.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Program</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>static</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static configuration with fixed address and netmask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip</em>/<em>ifconfig</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dhcp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address and netmask are assigned by DHCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>udhcpc</em> (Busybox)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dhcpv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address and netmask are assigned by DHCPv6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>odhcpc6c</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ppp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPP protocol - dialup modem connections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppoe</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPP over Ethernet - DSL broadband connection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd</em> + <em>plugin rp-pppoe.so</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppoa</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPP over ATM - DSL connection using a builtin modem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd</em> + plugin &#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>3g</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CDMA, UMTS or GPRS connection using an AT-style 3G modem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>comgt</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>qmi</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USB modems using QMI protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>uqmi</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ncm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USB modems using NCM protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>comgt-ncm</em> + ?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wwan</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USB modems with protocol autodetection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wwan</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>hnet</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Self-managing home network (HNCP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>hnet-full</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pptp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection via PPtP VPN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>6in4</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6-in-IPv4 tunnel for use with Tunnel Brokers like HE.net</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>aiccu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anything-in-anything tunnel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>aiccu</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>6to4</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stateless IPv6 over IPv4 transport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>6rd</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 rapid deployment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>6rd</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dslite</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual-Stack Lite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ds-lite</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>l2tp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPP over L2TP Pseudowire Tunnel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>xl2tpd</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>relay</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">relayd pseudo-bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>relayd</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gre</em>, <em>gretap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRE over IPv4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gre</em> + <em>kmod-gre</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>grev6</em>, <em>grev6tap</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRE over IPv6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gre</em> + <em>kmod-gre6</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vti</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VTI over IPv4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vti</em> + <em>kmod-ip_vti</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vtiv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VTI over IPv6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vti</em> + <em>kmod-ip6_vti</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unspecified protocol, therefore all the other interface settings will be ignored (like disabling the configuration)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Depending on the used <em>interface protocol</em> several other options may be required for a complete interface declaration. The corresponding options for each protocol are listed below. Options marked as "yes" in the "Required" column <em>must</em> be defined in the interface section if the corresponding protocol is used, options marked as "no" <em>may</em> be defined but can be omitted as well.</p>
</div>
</div>
<div class="sect2">
<h3 id="options_valid_for_all_protocol_types">Options valid for all protocol types</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ifname</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface name(s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes(*)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical interface name to assign to this section, list of interfaces if type bridge is set. <em>(*) This option may be empty or missing if only a wireless interface references this network or if the protocol type is <em>pptp</em>, <em>pppoa</em> or '6in4'</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to "bridge", a bridge containing the given <em>ifnames</em> is created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>stp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only valid for type "bridge", enables the Spanning Tree Protocol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>bridge_empty</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only valid for type "bridge", enables creating empty bridges</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>igmp_snooping</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only valid for type "bridge", sets the multicast_snooping kernel setting for a bridge</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>macaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mac address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override MAC address of this interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override the default MTU on this interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auto</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em> for proto <em>none</em>, else <em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether to bring up interface on boot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether to enable (1) or disable (0) IPv6 on this interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>force_link</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em> for protocol <em>static</em>, else <em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether ip address, route, and optionally gateway are assigned to the interface regardless of the link being active (<em>1</em>) or only after the link has become active (<em>0</em>); when set to <em>1</em>, carrier sense events do not invoke hotplug handlers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>enabled</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enable or disable the interface section</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip4table</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(ipv4) routing table for routes of this interface. E.g., when proto = dhcp, the dhcp client will add routes to that table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6table</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(ipv6) routing table for routes of this interface. E.g., when proto = dhcp6, the dhcp6 client will add routes to that table</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_static">Protocol "static"</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, if no <em>ip6addr</em> is set.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IP address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>netmask</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">netmask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, if no <em>ip6addr</em> is set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Netmask</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gateway</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default gateway</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>broadcast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broadcast address (autogenerated if not set)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, if no <em>ipaddr</em> is set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign given IPv6 address to this interface (CIDR notation)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6ifaceid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 suffix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">::1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowed values: <em>eui64</em>, <em>random</em>, fixed value like <em>::1:2</em>. When IPv6 prefix (like <em>a:b:c:d::</em>) is received from a delegating server, use the suffix (like <em>::1</em>) to form the IPv6 address (<em>a:b:c:d::1</em>) for this interface. Useful with several routers in LAN.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6gw</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign given IPv6 default gateway to this interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6assign</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefix length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegate a prefix of given length to this interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6hint</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefix hint (hex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hint the subprefix-ID that should be delegated as hexadecimal number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6prefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 prefix routed here for use on other interfaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6class</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of strings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define the IPv6 prefix-classes this interface will accept</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns_search</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of domain names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search list for host-name lookup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>metric</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default route metric to use</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_dhcp">Protocol "dhcp"</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>broadcast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable the broadcast flag in DHCP requests, required for certain ISPs, e.g. Charter with DOCSIS 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IP address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IP address to request from the DHCP server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>hostname</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hostname to include in DHCP requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>clientid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>system default</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override client identifier in DHCP requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vendorid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>system default</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override the vendor class in DHCP requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supplement DHCP-assigned DNS server(s), or use only these if peerdns is 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use DHCP-provided DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create a default route via the received gateway</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>customroutes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Space-separated list of additional routes to insert via the received gateway</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>metric</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the route metric to use for both default route and custom routes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>reqopts</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Space-separated list of additional DHCP options to request from the server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>sendopts</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Space-separated list of additional DHCP options to send to the server. Syntax: <em>option:value</em> where <em>option</em> is either an integer code or a symbolic name such as <em>hostname</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zone</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">firewall zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firewall zone to which this interface should be added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>iface6rd</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical interface template for auto-configuration of 6rd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu6rd</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>system default</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU of the 6rd interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zone6rd</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">firewall zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>system default</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firewall zone to which the 6rd interface should be added</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> To automatically configure 6rd from dhcp you need to create an interface with <em>option auto 0</em> and put its name as the <em>iface6rd</em> parameter. In addition you also need to add its name to a suitable firewall zone in /etc/config/firewall.</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_dhcpv6">Protocol "dhcpv6"</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>reqaddress</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[try,force,none]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">try</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Behaviour for requesting addresses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>reqprefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[auto,no,0-64]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Behaviour for requesting prefixes (numbers denote hinted prefix length).  Use <em>no</em> if you only want a single IPv6 address for the AP itself without a subnet for routing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>clientid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hexstring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>system default</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override client identifier in DHCP requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ifaceid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 addr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>link-local identifier</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override the interface identifier for adresses received via RA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supplement DHCP-assigned DNS server(s), or use only these if peerdns is 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use DHCP-provided DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create an IPv6 default route via the received gateway</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>reqopts</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of numbers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a list of additional DHCP options to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>noslaaconly</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Don&#8217;t allow configuration via SLAAC (RAs) only (implied by reqprefix != no)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>norelease</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Don&#8217;t send a RELEASE when the interface is brought down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6prefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use an (additional) user-provided IPv6 prefix for distribution to clients</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>iface_dslite</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical interface template for auto-configuration of DS-Lite</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> To automatically configure ds-lite from dhcpv6 you need to create an interface with <em>option auto 0</em> and put its name as the <em>iface_dslite</em> parameter. In addition you also need to add its name to a suitable firewall zone in /etc/config/firewall.</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_ppp_ppp_over_modem">Protocol "ppp" (PPP over Modem)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>ppp</em> must be installed to use PPP.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>device</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modem device node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>connect</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to custom PPP connect script</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disconnect</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to custom PPP disconnect script</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>keepalive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of unanswered echo requests before considering the peer dead. The interval between echo requests is 5 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>demand</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to wait before closing the connection due to inactivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace existing default route on PPP connect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable IPv6 on the PPP link</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd_options</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional command line arguments to pass to the pppd daemon</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_pppoe_ppp_over_ethernet">Protocol "pppoe" (PPP over Ethernet)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The packages <em>ppp</em>, <em>kmod-pppoe</em> and <em>ppp-mod-pppoe</em> must be installed to use PPPoE.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>opkg update
opkg install ppp kmod-pppoe ppp-mod-pppoe</pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ac</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Access Concentrator to connect to. If unset, <em>pppd</em> uses the first discovered one</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>service</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Service Name to connect to, If unset, <em>pppd</em> uses the first discovered one</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>connect</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to custom PPP connect script</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disconnect</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to custom PPP disconnect script</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>keepalive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of connection failures before reconnect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>demand</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to wait before closing the connection due to inactivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace existing default route on PPP connect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable IPv6 on the PPP link</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd_options</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional command line arguments to pass to the pppd daemon, e.g. <strong>debug</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_pppoa_ppp_over_atm_aal5">Protocol "pppoa" (PPP over ATM AAL5)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>ppp-mod-pppoa</em> must be installed to use PPPoA.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vci</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>35</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA VCI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vpi</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>8</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA VPI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>atmdev</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the ATM adapter number starting with 0. Most systems only have one ATM device and do not need this option</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>encaps</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>llc</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA encapsulation mode: <em>llc</em> (LLC) or <em>vc</em> (VC)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>connect</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to custom PPP connect script</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>disconnect</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to custom PPP disconnect script</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>keepalive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of connection failures before reconnect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>demand</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to wait before closing the connection due to inactivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace existing default route on PPP connect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable IPv6 on the PPP link</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd_options</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional command line arguments to pass to the pppd daemon</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_3g_ppp_over_ev_do_cdma_umts_or_gprs">Protocol "3g" (PPP over EV-DO, CDMA, UMTS or GPRS)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>comgt</em> must be installed to use 3G.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>device</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modem device node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>service</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>umts</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3G service type: <em>cdma</em>/<em>evdo</em>, <em>umts</em>/<em>umts_only</em>/<em>gprs_only</em> (&#8230;&#8203;._only options limited to Novatel &amp; Option cards and dongles)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>apn</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used APN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pincode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIN code to unlock SIM card</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dialnumber</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">%%<strong>99</strong>**1#%%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modem dial string e.g. *99#</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maxwait</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>20</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to wait for modem to become ready</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>keepalive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of connection failures before reconnect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>demand</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to wait before closing the connection due to inactivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace existing default route on PPP connect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable IPv6 on the PPP link</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_qmi_usb_modems_using_qmi_protocol">Protocol "qmi" (USB modems using QMI protocol)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>uqmi</em> must be installed to use QMI.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>device</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QMI device node, typically /dev/cdc-wdm0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>apn</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used APN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pincode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIN code to unlock SIM card</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication type: pap, chap, both, none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>modes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(modem default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowed network modes, comma separated list of: all, lte, umts, gsm, cdma, td-scdma</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>delay</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seconds to wait before trying to interact with the modem (some ZTE modems require up to 30 s.)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_ncm_usb_modems_using_ncm_protocol">Protocol "ncm" (USB modems using NCM protocol)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>comgt-ncm</em> + modem specific driver must be installed to use NCM.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>device</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NCM device node, typically /dev/cdc-wdm0 or /dev/ttyUSB#</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>apn</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used APN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pincode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIN code to unlock SIM card</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication type: pap, chap, both, none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(modem default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used network mode, not every device support every mode: preferlte, preferumts, lte, umts, gsm, auto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pdptype</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>IPV4V6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used IP-stack mode, <em>IP</em> (for IPv4), <em>IPV6</em> (for IPv6) or <em>IPV4V6</em> (for dual-stack) (Designated Driver #46844 and later)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>delay</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seconds to wait before trying to interact with the modem (some modems require up to 30 s.)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_wwan_usb_modems_autodetecting_the_above_3g_4g_protocols">Protocol "wwan" (USB modems autodetecting the above 3G/4G protocols)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>wwan</em> must be installed to use this feature. The "wwan" protocol detects the right protocol (3G/QMI/NCM/MBIM) for the USB Modem model and passes the configuration to the protocol.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>apn</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used APN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>auth</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication type: pap, chap, both, none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pincode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIN code to unlock SIM card</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>modes</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(modem default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowed network modes, comma separated list of: all, lte, umts, gsm, cdma, td-scdma</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>delay</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seconds to wait before trying to interact with the modem (some ZTE modems require up to 30 s.)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_hnet_self_managing_home_network_hncp">Protocol "hnet" (Self-managing home network (HNCP))</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>hnet-full</em> must be installed to use hnet.
<strong>CAUTION</strong>: See <a href="http://tools.ietf.org/html/draft-ietf-homenet-hncp">here</a> for details.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface mode. One of external, guest, adhoc or hybrid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6assign</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6-prefix size to assign to this interface if internal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip4assign</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4-prefix size to assign to this interface if internal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dnsname</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;device-name&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-Label to assign to interface.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_pptp_point_to_point_tunneling_protocol">Protocol "pptp" (Point-to-Point Tunneling Protocol)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>ppp-mod-pptp</em> must be installed to use PPtP. You need to have another section to configure the "parent" device, and you might need to add "&lt;vpn&gt;" to your "wan" zone in the firewall (&lt;vpn&gt; being the "logical interface name" of this section).</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote PPtP server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no(?)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>keepalive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of unanswered echo requests before considering the peer dead. The interval between echo requests is 5 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>demand</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to wait before closing the connection due to inactivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace existing default route on PPtP connect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peerdns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dns</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of ip addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override peer-assigned DNS server(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable IPv6 on the PPtP link</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd_options</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional command line arguments to pass to the pppd daemon</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_6in4_ipv6_in_ipv4_tunnel">Protocol "6in4" (IPv6-in-IPv4 Tunnel)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>6in4</em> must be installed to use this protocol.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current WAN IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local IPv4 endpoint address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peeraddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote IPv4 endpoint address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address (CIDR)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local IPv6 address delegated to the tunnel endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6prefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Routed IPv6 prefix for downstream interfaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>sourcerouting</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to route only packets from delegated prefixes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create an IPv6 default route over the tunnel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ttl</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>64</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL used for the tunnel interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tos</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type Of Service : either "inherit" (the outer header inherits the value of the inner header) or an hexadecimal value. Also known as DSCP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1280</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU used for the tunnel interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunnelid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HE.net global tunnel ID (used for endpoint update)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HE.net username which you use to login into tunnelbroker, not the User ID shows after you have login int  (used for endpoint update)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HE.net password (used for endpoint update)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>updatekey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HE.net updatekey, overrides password (used for endpoint update)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>metric</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default route metric to use</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> This protocol type does not need an <em>ifname</em> option set in the interface section. The interface name is derived from the section name, e.g. <em>config interface sixbone</em> would result in an interface named <em>6in4-sixbone</em>.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> although ip6prefix isn&#8217;t required, sourcerouting, enabled by default, will prevent forwarding of packets unless ip6prefix is specified.</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_aiccu_automatic_ipv6_connectivity_client_utility">Protocol "aiccu" (Automatic IPv6 Connectivity Client Utility)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>aiccu</em> must be installed to use this protocol. This utility is not meant to be operated in a headless mode. Do not use it if you have some other option. Only AYIYA tunnel type has been tested. For static or heartbeat tunnels, use native 6in4 tunnel instead, perhaps with the he.net Tunnel Broker.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server username</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>protocol</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tunnel setup protocol to use (<em>tic</em>, <em>tsp</em>, <em>l2tp</em>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tic.sixxs.net</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tunnel setup server to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address (CIDR)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local IPv6 address delegated to the tunnel endpoint (not necessary)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ntpsynctimeout</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>90</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for NTP sync that many seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunnelid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIC server tunnel ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6prefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Routed IPv6 prefix for downstream interfaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create an IPv6 default route over the tunnel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>sourcerouting</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to route only packets from delegated prefixes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunnelid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIC server tunnel ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>requiretls</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Require TLS connection to TIC server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>nat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notify the user that a NAT-kind network is detected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>heartbeat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make heartbeats</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>verbose</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verbose logging to system log</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> This protocol type does not need an <em>ifname</em> option set in the interface section. The interface name is derived from the section name, e.g. <em>config interface sixbone</em> would result in an interface named <em>aiccu-sixbone</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_6to4_ipv6_in_ipv4_tunnel">Protocol "6to4" (IPv6-in-IPv4 Tunnel)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>6to4</em> must be installed to use this protocol.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current WAN IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local IPv4 endpoint address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create an IPv6 default route over the tunnel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ttl</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>64</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL used for the tunnel interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tos</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type Of Service : either "inherit" (the outer header inherits the value of the inner header) or an hexadecimal value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1280</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU used for the tunnel interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>metric</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the default route metric to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>adv_interface</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>lan</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(deprecated) The <em>logical interface name</em> of the network the subnet should be advertised on. Multiple interface names can be given.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>adv_subnet</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hex number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(deprecated) A subnet ID between <em>1</em> and <em>FFFF</em> which selects the advertised /64 prefix from the mapped 6to4 space. The subnet ID is incremented by 1 for every interface specified in <em>adv_interface</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>adv_valid_lifetime</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>300</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(deprecated) Overrides the advertised valid prefix lifetime, in seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>adv_preferred_lifetime</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>120</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(deprecated) Overrides the advertised preferred prefix lifetime, in seconds</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> This protocol type does not need an <em>ifname</em> option set in the interface section. The interface name is derived from the section name, e.g. <em>config interface wan6</em> would result in an interface named <em>6to4-wan6</em></p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> If radvd is installed and enabled, the 6to4 scripts will add a temporary prefix and interface declaration to the <em>radvd</em> uci configuration and perform a daemon restart if required. (deprecated)</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_6rd_ipv6_rapid_deployment">Protocol "6rd" (IPv6 rapid deployment)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>6rd</em> must be installed to use this protocol.</p>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: The needed tunnel values are usually obtained via the DHCPv4 request for the WAN interface. Try that first. Below is only needed for hardcoding the tunnel.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peeraddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6rd - Gateway</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current WAN IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local IPv4 endpoint address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6prefix</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 prefix (without length)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6rd-IPv6 Prefix</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6prefixlen</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 prefix length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6rd-IPv6 Prefix length</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip4prefixlen</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 prefix length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 common prefix</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create an IPv6 default route over the tunnel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ttl</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>64</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL used for the tunnel interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tos</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type Of Service : either "inherit" (the outer header inherits the value of the inner header) or an hexadecimal value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1280</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU used for the tunnel interface</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> This protocol type does not need an <em>ifname</em> option set in the interface section. The interface name is derived from the section name, e.g. <em>config interface wan6</em> would result in an interface named <em>6rd-wan6</em>.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Some ISP&#8217;s give you the number of bytes you should use from your WAN IP to calculate your IPv6 address. ip4prefixlen expects the <em>prefix</em> bytes of your WAN IP to calculate the IPv6 address. So if your ISP gives you 14 bytes to calculate, enter 18 (32 - 14).</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_dslite_dual_stack_lite">Protocol "dslite" (Dual-Stack Lite)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>ds-lite</em> must be installed to use this protocol.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peeraddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DS-Lite AFTR address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current WAN IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local IPv6 endpoint address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunlink</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current WAN interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tunnel base interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>defaultroute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to create an IPv6 default route over the tunnel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ttl</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>64</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL used for the tunnel interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1280</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU used for the tunnel interface</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>CAUTION</strong>: ds-lite operation requires that IPv4 NAT is disabled. You should adjust your settings in /etc/config/firewall accordingly.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> This protocol type does not need an <em>ifname</em> option set in the interface section. The interface name is derived from the section name, e.g. <em>config interface wan</em> would result in an interface named <em>dslite-wan</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_l2tp_ppp_over_l2tp_pseudowire_tunnel">Protocol "l2tp" (PPP over L2TP Pseudowire Tunnel)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>xl2tpd</em> must be installed to use this protocol.</p>
</div>
<div class="paragraph">
<p>Most options are similar to protocol "ppp".</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L2TP server to connect to.  Acceptable datatypes are hostname or IP address, with optional port separated by colon <em>:</em>.  Note that specifying port is only supported recently and should appear in DD release</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>username</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>password</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes if <em>username</em> is provided</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PAP/CHAP authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipv6</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable IPv6 on the PPP link (IPv6CP)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd</em> default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum Transmit/Receive Unit, in bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>keepalive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of unanswered echo requests before considering the peer dead. The interval between echo requests is 5 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>checkup_interval</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of seconds to pass before checking if the interface is not up since the last setup attempt and retry the connection otherwise.  Set it to a value sufficient for a successful L2TP connection for you.  It&#8217;s mainly for the case that netifd sent the connect request yet xl2tpd failed to complete it without the notice of netifd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>pppd_options</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional options to pass to <em>pppd</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The name of the physical interface will be "l2tp-&lt;logical interface name&gt;".</p>
</div>
</div>
<div class="sect2">
<h3 id="protocol_relay_relayd_pseudo_bridge">Protocol "relay" (Relayd Pseudo Bridge)</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>relayd</em> must be installed to use this protocol.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>network</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of <em>logical interface names</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the networks between which traffic is relayed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gateway</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(network default)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override the gateway address sent to clients within DHCP responses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>expiry</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>30</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host expiry timeout in seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>retry</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>5</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of ARP ping retries before a host is considered dead</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>table</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>16800</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Table ID for automatically added routes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>forward_bcast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables forwarding of broadcast traffic, <em>0</em> disables it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>forward_dhcp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>1</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables forwarding of DHCP requests and responses, <em>0</em> disables it</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="common_options_for_gre_protocols">Common options for GRE protocols</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>gre</em> must be installed to use GRE. Additionally, you need <em>kmod-gre</em> and/or <em>kmod-gre6</em>.</p>
</div>
<div class="paragraph">
<p>Four protocols are defined: "gre", "gretap", "grev6", and "grev6tap". The name of the GRE interface will be <em>gre-&lt;logical interface name&gt;</em> for "gre" and "gretap", and <em>grev6-&lt;logical interface name&gt;</em> for "grev6" and "grev6tap".</p>
</div>
<div class="paragraph">
<p>All four protocols accept the following common options:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ttl</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TTL of the encapsulating packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunlink</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bind the tunnel to this interface (<em>dev</em> option of "ip tunnel")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zone</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zone name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"wan"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firewall zone to which the interface will be added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tos</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of Service (IPv4), Traffic Class (IPv6): either "inherit" (the outer header inherits the value of the inner header) or an hexadecimal value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ikey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">key for incoming packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>okey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">key for outgoing packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>icsum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">require incoming checksum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ocsum</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compute outgoing checksum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>iseqno</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">require incoming packets serialisation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>oseqno</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform outgoing packets serialisation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_gre_gre_tunnel_over_ipv4">Protocol "gre" (GRE tunnel over IPv4)</h3>
<div class="paragraph">
<p>The following options are supported, in addition to all common options above:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAN IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peeraddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>df</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set "Don&#8217;t Fragment" flag on encapsulating packets</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_gretap_ethernet_gre_tunnel_over_ipv4">Protocol "gretap" (Ethernet GRE tunnel over IPv4)</h3>
<div class="paragraph">
<p>The following options are supported, in addition to all common options above:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAN IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peeraddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>df</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set "Don&#8217;t Fragment" flag on encapsulating packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>network</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical network to which the tunnel will be added (bridged)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_grev6_gre_tunnel_over_ipv6">Protocol "grev6" (GRE tunnel over IPv6)</h3>
<div class="paragraph">
<p>The following options are supported, in addition to all common options above:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAN IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peer6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>weakif</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>lan</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical network from which to select the local endpoint if ip6addr parameter is empty and no WAN IP is available</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_grev6tap_ethernet_gre_tunnel_over_ipv6">Protocol "grev6tap" (Ethernet GRE tunnel over IPv6)</h3>
<div class="paragraph">
<p>The following options are supported, in addition to all common options above:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAN IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peer6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>weakif</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>lan</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical network from which to select the local endpoint if ip6addr is empty and no WAN IP is available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>network</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical network to which the tunnel will be added (bridged)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_vti_vti_tunnel_over_ipv4">Protocol "vti" (VTI tunnel over IPv4)</h3>
<div class="paragraph">
<p>VTI Tunnels are IPsec policies with a fwmark set. The traffic is redirected to the matching VTI interface.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ipaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAN IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peeraddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunlink</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bind the tunnel to this interface (<em>dev</em> option of "ip tunnel")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zone</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zone name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"wan"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firewall zone to which the interface will be added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ikey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">key/fwmark for incoming packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>okey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">key/fwmark for outgoing packets</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="protocol_vtiv6_vti_tunnel_over_ipv6">Protocol "vtiv6" (VTI tunnel over IPv6)</h3>
<div class="paragraph">
<p>The following options are supported, in addition to all common options above:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ip6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAN IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>peer6addr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote endpoint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunlink</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical interface name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bind the tunnel to this interface (<em>dev</em> option of "ip tunnel")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zone</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zone name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"wan"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firewall zone to which the interface will be added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ikey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">key/fwmark for incoming packets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>okey</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">key/fwmark for outgoing packets</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devices">Devices</h3>
<div class="paragraph">
<p>A minimal device declaration consists of the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config device 'eth0.106'
	option type '8021q'
	option name 'eth0.106'
	option ifname 'eth0'
	option vid '106'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vlan_interfaces">VLAN Interfaces</h3>
<div class="paragraph">
<p>VLAN Interfaces may be configured also. If not, they are created on the fly by netifd. Defining VLANs gives more options.
The following options are supported:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">802.1q</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN type, possible values: 8021q or 8021ad</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>name</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of device, i.e. eth0.5 or vlan5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ifname</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of parent/base interface, i.e. eth0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VLAN Id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>macaddr</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAC of new interface</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>MAC address option is send upstream but not merged at time of writng.
=== ATM Bridges (Ethernet over ATM AAL5)</p>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: The package <em>br2684ctl</em> must be installed to use Ethernet over AAL5.</p>
</div>
<div class="paragraph">
<p>ATM bridges use a special config section called <em>atm-bridge</em>.
Each <em>atm-bridge</em> section maps the specified ATM curcuit an <em>atm#</em> pseudo ethernet device which can
be used for example in conjunction with <em>pppoe</em> to establish a DSL connection to the ISP.</p>
</div>
<div class="paragraph">
<p>A typical bridge section looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config atm-bridge
	option unit     '0'
	option vpi      '8'
	option vci      '35'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Unit <em>0</em> will let <em>br2684ctl</em> create a <em>nas0</em> pseudo device</p>
</li>
<li>
<p>VPI <em>8</em> and VCI <em>35</em> specifies the circuit to bridge. Those values are ISP dependant.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>atm-bridge</em> section allows the following options:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the br2684 interface number. If ommitted, <em>0</em> is assumed which would result in a <em>nas0</em> pseudo interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vci</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>35</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA VCI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>vpi</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>8</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA VPI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>atmdev</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the ATM adapter number starting with 0. Most systems only have one ATM device and do not need this option</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>encaps</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>llc</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA encapsulation mode: <em>llc</em> (LLC) or <em>vc</em> (VC)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>payload</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>bridged</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PPPoA forwarding mode: <em>routed</em> or <em>bridged</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="dsl_vdsl">DSL / VDSL</h3>
<div class="paragraph">
<p><strong>CAUTION</strong>: This currently only works on devices based on lantiq SoCs.</p>
</div>
<div class="paragraph">
<p>(V)DSL uses a special config section called <em>dsl</em>, which typically looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config vdsl 'dsl'
	option annex 'b'
	option firmware '/lib/firmware/vdsl.bin'
	option tone 'bv'
	option xfer_mode 'atm'</pre>
</div>
</div>
<div class="paragraph">
<p>The <em>dsl</em> section allows the following options:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>annex</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>b</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Annex setting (ISP/line dependent). Supported values on lantiq AMAZON and DANUBE devices: b, bdmt, b2, b2p, a, at1, alite, admt, a2, a2p, l, m, m2, m2p. Supported values on lantiq ARX100 "AR9" and VRX200 "VR9" devices: a, b, j</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>firmware</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>/lib/firmware/vdsl.bin</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the modem&#8217;s firmware image <strong>CAUTION</strong>: <strong>Only supported by devices with lantiq SoC. See the xDSL firmware section below for more information </strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tone</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>bv</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The tone mode (ISP/line dependent). Supported values: a = A43, av = A43 + V43, b = B43, bv = B43 + V43 <strong>CAUTION</strong>: <strong>Only supported by devices with ARX100 "AR9" and VRX200 "VR9" lantiq SoC. This configuration was removed in "Designated Driver" as the driver now auto-detects the correct value</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>xfer_mode</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>atm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The transfer mode. Supported values are: atm = Asynchronous Transfer Mode (often used for ADSL connections), ptm = Packet Transfer Mode (often used for VDSL connections) <strong>CAUTION</strong>: <strong>Only supported by devices with ARX100 "AR9" and VRX200 "VR9" lantiq SoC.</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lantiq_xdsl_firmware">Lantiq xDSL firmware</h3>
<div class="paragraph">
<p>Starting with r47631 and r47650 (lantiq: add dsl-vr9-firmware-xdsl / lantiq: add dsl-vrx200-firmware-xdsl-b: add Annex B version of VRX200 DSL firmware) there are redistributable versions of the xDSL firmware available as OpenWrt packages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>dsl-vrx200-firmware-xdsl-a</p>
</li>
<li>
<p>dsl-vrx200-firmware-xdsl-b</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A list (incomplete) of other firmware versions, including those with vectoring support, can be found here: <a href="https:_xdarklight.github.io/lantiq-xdsl-firmware-info/" class="bare">https:_xdarklight.github.io/lantiq-xdsl-firmware-info/</a></p>
</div>
</div>
<div class="sect2">
<h3 id="aliases">Aliases</h3>
<div class="paragraph">
<p>Basically create an <em>interface</em> section per IP, but alias interfaces may NOT be of type bridge</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For non-bridged interfaces (physdev , that is physical interfaces) the <em>ifname</em> is the &lt;interface-of-network-for-same-phydev&gt;</p>
</li>
<li>
<p>For cases where the interface is bridged the <em>ifname</em> is br-<em>base-interface</em>, where <em>base-interface</em> is the name of the primary IP&#8217;s config section (e.g. for a the default lan interface config, the first alias would use ifname br-lan).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A minimal alias definition for a bridged interface might be (for a scenario without vlans):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface lan
	option 'ifname' 'eth0'
	option 'type' 'bridge'
	option 'proto' 'static'
	option 'ipaddr' '192.168.1.1'
	option 'netmask' '255.255.255.0'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface lan2
	option 'ifname' 'br-lan'
	option 'proto' 'static'
	option 'ipaddr' '10.0.0.1'
	option 'netmask' '255.255.255.0'</pre>
</div>
</div>
<div class="paragraph">
<p>or for a non-bridge interface</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface lan
	option 'ifname' 'eth0'
	option 'proto' 'static'
	option 'ipaddr' '192.168.1.1'
	option 'netmask' '255.255.255.0'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface lan2
	option 'ifname' 'eth0'
	option 'proto' 'static'
	option 'ipaddr' '10.0.0.1'
	option 'netmask' '255.255.255.0'</pre>
</div>
</div>
<div class="paragraph">
<p>To see a list of interfaces you can do <em>ubus list network.interface.*</em> and to view the ip of a particular interface (the UCI name not the physical interface), do <em>ifstatus &lt;interface&gt;</em> (e.g. <em>ifstatus lan2</em>).</p>
</div>
</div>
<div class="sect2">
<h3 id="aliases_notes">Aliases: notes</h3>
<div class="paragraph">
<p>On openwrt 12.09, a lan interface that is first defined as dhcp interface
and then has aliases with static ip address could cause problems
in routing the lan traffic through the wan zone using the basic lan-wan forwarding provided by openwrt.
A solution is: having the basic interface with static address and aliases with dhcp protocol.</p>
</div>
<div class="paragraph">
<p>Another note is related to <em>how to refer to the ifname of an interface</em>.
Normally the ifname is <em>br-wan</em> if the interface <em>wan</em> is bridged,
else is <em>ifname &lt;nic_device&gt;</em> . Another way to avoid to list always the same
device is using <em>ifname @interface</em>. In this way, even if the wan interface
is not a bridge, one can refer to the physical device used by the wan interface
indirectly.</p>
</div>
</div>
<div class="sect2">
<h3 id="ipv4_routes">IPv4 Routes</h3>
<div class="paragraph">
<p>Static <em>IPv4 routes</em> can be defined on specific interfaces using <em>route</em> sections. As for <em>aliases</em>, multiple sections can be attached to an interface.</p>
</div>
<div class="paragraph">
<p>A minimal example looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'route' 'name_your_route'
	option 'interface' 'lan'
	option 'target' '172.16.123.0'
	option 'netmask' '255.255.255.0'
	option 'gateway' '172.16.123.100'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>lan</em> is the <em>logical interface name</em> of the parent interface</p>
</li>
<li>
<p><em>172.16.123.0</em> is the <em>network address</em> of the route</p>
</li>
<li>
<p><em>255.255.255.0</em> specifies the <em>route netmask</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Legal options for <em>IPv4 routes</em> are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>interface</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>logical interface name</em> of the parent (or master) interface this route belongs to; must refer to one of the defined <em>interface</em> sections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>target</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>netmask</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">netmask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Route netmask. If omitted, <em>255.255.255.255</em> is assumed which makes <em>target</em> a <em>host address</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gateway</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network gateway. If omitted, the <em>gateway</em> from the parent interface is taken; if set to <em>0.0.0.0</em> no gateway will be specified for the route</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>metric</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>route metric</em> to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>interface MTU</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a specific MTU for this route</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>table</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">routing table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the table ID to use for the route. The ID can be either a numeric table index ranging from 0 to 65535 or a symbolic alias declared in /etc/iproute2/rt_tables. The special aliases local (255), main (254) and default (253) are recognized as well</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>source</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The preferred source address when sending to destinations covered by the target</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>onlink</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled gateway is on link even if the gateway does not match any interface prefix</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unicast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of the types outlined in the Routing Types table below</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To disable a route quickly, the option <em>enabled</em> is not available. Just rewrite the <em>route</em> config section as <em>disabled_route</em> like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'disabled_route' 'name_your_route'
...lines...</pre>
</div>
</div>
<div class="paragraph">
<p>and it will be recognized by the uci parser but not applied by the <em>/etc/init.d/network</em> script.</p>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: It seems that on openwrt 12.09 if a route is defined using a gateway in an address space where a gateway is already defined, it will be not added. Like the lan has the gateway 192.168.1.1 and we want to go to 1.2.3.4 over the gateway 192.168.1.5 within the interface lan, it will not be added. Could be added through <em>ip route</em> commands tough.
=== IPv6 Routes</p>
</div>
<div class="paragraph">
<p><em>IPv6 routes</em> can be specified as well by defining one or more <em>route6</em> sections.</p>
</div>
<div class="paragraph">
<p>A minimal example looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'route6'
	option 'interface' 'lan'
	option 'target' '2001:0DB8:100:F00:BA3::1/64'
	option 'gateway' '2001:0DB8:99::1'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>lan</em> is the <em>logical interface name</em> of the parent interface</p>
</li>
<li>
<p><em>2001:0DB8:100:F00:BA3::1/64</em> is the routed <em>IPv6 subnet</em> in CIDR notation</p>
</li>
<li>
<p><em>2001:0DB8:99::1</em> specifies the <em>IPv6 gateway</em> for this route</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Legal options for <em>IPv6 routes</em> are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>interface</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>logical interface name</em> of the parent (or master) interface this route belongs to; must refer to one of the defined <em>interface</em> sections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>target</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 network address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>gateway</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ipv6 address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6 gateway. If omitted, the <em>gateway</em> from the parent interface is taken</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>metric</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>route metric</em> to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mtu</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>interface MTU</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a specific MTU for this route</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>table</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">routing table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the table ID to use for the route. The ID can be either a numeric table index ranging from 0 to 65535 or a symbolic alias declared in /etc/iproute2/rt_tables. The special aliases local (255), main (254) and default (253) are recognized as well</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>source</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The preferred source address when sending to destinations covered by the target</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>onlink</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled gateway is on link even if the gateway does not match any interface prefix</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>type</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unicast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of the types outlined in the Routing Types table below</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="routing_types">Routing Types</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unicast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the route entry describes real paths to the destinations covered by the route prefix.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>local</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the destinations are assigned to this host. The packets are looped back and delivered locally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>broadcast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the destinations are broadcast addresses. The packets are sent as link broadcasts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>multicast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a special type used for multicast routing.  It is not present in normal routing tables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unreachable</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">these destinations are unreachable. Packets are discarded and the ICMP message host unreachable is generated. The local senders get an EHOSTUNREACH error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>prohibit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">these destinations are unreachable. Packets are discarded and the ICMP message communication administratively prohibited is generated. The local senders get an EACCES error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>blackhole</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">these destinations are unreachable. Packets are discarded silently. The local senders get an EINVAL error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>anycast</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the destinations are anycast addresses assigned to this host. They are mainly equivalent to local with one difference: such addresses are invalid when used as the source address of any packet.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ip_rules">IP rules</h3>
<div class="paragraph">
<p>netifd supports <em>IP rule</em> declarations which are required to implement policy routing. IPv4 rules can be defined by declaring one or more sections of type <em>rule</em>, IPv6 rules are denoted by sections of type <em>rule6</em>. Both types share the same set of defined options.</p>
</div>
<div class="paragraph">
<p>A simple IPv4 rule may look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config rule
	option mark   '0xFF'
	option in     'lan'
	option dest   '172.16.0.0/16'
	option lookup '100'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>0xFF</em> is a fwmark to be matched</p>
</li>
<li>
<p><em>lan</em> is the incoming <em>logical interface name</em></p>
</li>
<li>
<p><em>172.16.0.0/16</em> is the destination subnet to match</p>
</li>
<li>
<p><em>100</em> is the routing table ID to use for the matched traffic</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similary, an IPv6 rule looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config rule6
	option in     'vpn'
	option dest   'fdca:1234::/64'
	option action 'prohibit'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>vpn</em> is the incoming <em>logical interface name</em></p>
</li>
<li>
<p><em>fdca:1234::/64</em> is the destination subnet to match</p>
</li>
<li>
<p><em>prohibit</em> is a routing action to take</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The options below are defined for <em>IP rule</em> (<em>rule</em> and <em>rule6</em>) sections:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>in</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the incoming <em>logical interface name</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>out</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the outgoing <em>logical interface name</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>src</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip subnet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the source subnet to match (CIDR notation)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>dest</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ip subnet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the destination subnet to match (CIDR notation)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tos</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the TOS value to match in IP headers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>mark</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark/mask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <em>fwmark</em> and optionally its mask to match, e.g. <em>0xFF</em> to match mark 255 or <em>0x0/0x1</em> to match any even mark value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>invert</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>0</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <em>1</em>, the meaning of the match options is inverted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>priority</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(incrementing)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controls the order of the IP rules, by default the priority is auto-assigned so that they are processed in the same order they&#8217;re declared in the config file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>lookup</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">routing table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">at least one of</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(none)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rule target is a table lookup, the ID can be either a numeric table index ranging from <em>0</em> to <em>65535</em> or a symbolic alias declared in <em>/etc/iproute2/rt_tables</em>. The special aliases <em>local</em> (<em>255</em>), <em>main</em> (<em>254</em>) and <em>default</em> (<em>253</em>) are recognized as well</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>goto</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rule index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:::</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:::</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rule target is a jump to another rule specified by its <em>priority</em> value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>action</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:::</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:::</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rule target is one of the routing actions outlined in the table below</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="routing_actions">Routing Actions</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>prohibit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When reaching the rule, respond with <em>ICMP prohibited</em> messages and abort route lookup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unreachable</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When reaching the rule, respond with <em>ICMP unreachable</em> messages and abort route lookup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>blackhole</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When reaching the rule, drop packet and abort route lookup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>throw</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop lookup in the current routing table even if a default route exists</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below are a few examples for special, non-standard interface configurations.</p>
</div>
<div class="sect2">
<h3 id="bridge_without_ip">Bridge without IP</h3>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'example'
	option 'type'    'bridge'
	option 'proto'   'none'
	option 'ifname'  'eth0 eth1'
	option 'auto'    '1'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dhcp_without_default_gateway">DHCP without default gateway</h3>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'example'
	option 'proto'   'dhcp'
	option 'ifname'  'eth0'
	option 'defaultroute' '0'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dhcp_and_ipv6">DHCP and IPv6</h3>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'example'
	option 'proto'     'dhcp'
	option 'ifname'    'eth0'

config 'alias'
	option 'interface' 'example'
	option 'proto'     'static'
	option 'ip6addr'   '2001:0DB8:100:F00:BA3::1'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="static_ip_configuration_with_multiple_dnses">Static IP configuration with multiple dnses</h3>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'example'
	option 'proto'     'static'
	option 'ifname'    'eth0'
	option 'ipaddr'    '192.168.1.200'
	option 'netmask'   '255.255.255.0'
	list   'dns'       '192.168.1.1'
	list   'dns'       '192.168.10.1'
# the priority is: the last dns listed will be the first one
# to be chosen for the name resolution.</pre>
</div>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: Openwrt will use the new dns configured only after a reboot or a <em>/etc/init.d/dnsmasq restart</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="static_ip_configuration_and_default_gateway_with_non_zero_metric">Static IP configuration and default gateway with non-zero metric</h3>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'example'
	option 'proto'     'static'
	option 'ifname'    'eth0'
	option 'ipaddr'    '192.168.1.200'
	option 'netmask'   '255.255.255.0'
	option 'dns'       '192.168.1.1'

config 'route'
	option 'interface' 'example'
	option 'target'    '0.0.0.0'
	option 'netmask'   '0.0.0.0'
	option 'gateway'   '192.168.1.1'
	option 'metric'    '100'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pptp_over_pppoe_internet_connection">PPtP-over-PPPoE internet connection</h3>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'wan'
	option 'proto'     'pppoe'
	option 'ifname'    'eth1'
	option 'username'  'user'
	option 'password'  'pass'
	option 'timeout'   '10'

config 'interface' 'vpn'
	option 'proto'     'pptp'
	option 'ifname'    'vpn'
	option 'username'  'vpnuser'
	option 'password'  'vpnpass'
	option 'server'    'vpn.example.org'</pre>
</div>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: Additionally the "wan" firewall zone must include both interfaces in <em>/etc/config/firewall</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'zone'
	option 'name'      'wan'
	option 'network'   'wan vpn'  # Important
	option 'input'     'REJECT'
	option 'forward'   'REJECT'
	option 'output'    'ACCEPT'
	option 'masq'      '1'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pppoa_adsl_internet_connection">PPPoA ADSL internet connection</h3>
<div class="listingblock">
<div class="content">
<pre>config adsl-device 'adsl'
	option fwannex 'a'
	option annex 'a'

config interface 'wan'
	option proto 'pppoa'
	option username 'jbloggs@plusdsl.net'
	option password 'XXXXXXXXX'
	option vpi '0'
	option vci '38'
	option encaps 'vc'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="listing_an_interface_created_by_software_on_the_router_like_vpn">listing an interface created by software on the router, like vpn</h3>
<div class="paragraph">
<p>For example, a vpn interface is normally "tun0". To list it in the uci config files (and therefore in luci):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface 'tun0'
	option ifname 'tun0'
	option proto 'none'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="static_ipv6_in_ipv4_tunnel">Static IPv6-in-IPv4 tunnel</h3>
<div class="paragraph">
<p>The example below illustrates a static tunnel configuration in <em>/etc/config/network</em> file for the Hurricane Electric (he.net) broker.
Option <em>ipaddr</em> specifies the local IPv4 address, <em>peeraddr</em> is the broker IPv4 address and <em>ip6addr</em> the local IPv6 address routed via the tunnel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'henet'
	option 'proto'     '6in4'
	option 'ipaddr'    '178.24.115.19'
	option 'peeraddr'  '216.66.80.30'
	option 'ip6addr'   '2001:0DB8:1f0a:1359::2/64'</pre>
</div>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: You should also add an address from your routed IPv6 network to the "lan" interface.</p>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: To apply IPv6 firewall rules to the tunnel interface, add it to the "wan" zone in <em>/etc/config/firewall</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'zone'
	option 'name'      'wan'
	option 'network'   'wan henet'  # Important
	option 'input'     'REJECT'
	option 'forward'   'REJECT'
	option 'output'    'ACCEPT'
	option 'masq'      '1'</pre>
</div>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: If you define a new, dedicated zone just for the tunnel interface,
make sure to set <em>option conntrack 1</em> in order to force enabling connection tracking,
otherwise unidirectional forwarding rules will not work.</p>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: Don&#8217;t forget to set up forwarding rules between the LAN and the tunnel if you want to route IPv6 traffic between them.</p>
</div>
</div>
<div class="sect2">
<h3 id="setup_behind_one_to_one_nat">Setup behind one-to-one NAT</h3>
<div class="paragraph">
<p>If your public IP, e.g. <em>178.24.115.19</em>, is not matching the IP address on your WAN interface, your ISP is probably using <a href="http://shorewall.net/NAT.htm#One-to-one">one-to-one NAT</a> (aka <a href="http://en.wikipedia.org/wiki/Network_address_translation#Methods_of_Port_translation">full-cone NAT</a>) and you won&#8217;t be able to establish static IPv6-in-IPv4 tunnel. IP address of your WAN interface can be obtained with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>. /lib/functions/network.sh; network_get_ipaddr ip wan; echo $ip</pre>
</div>
</div>
<div class="paragraph">
<p>If this is your case you should fill the WAN IP address into <em>ipaddr</em> option instead of your actual public IP that might have been provided to <a href="http://he.net/">Hurricane Electric</a> during tunnel creation. (You should always use your public IP while creating Hurricane Electric tunnel, so don&#8217;t change it just because you are behind one-to-one NAT.) Or you may completely omit the optional <em>ipaddr</em> option and let auto configuration to handle the correct IP. (<strong>WARNING</strong>:  Auto configuration is vague. Is <em>uci</em> handling this case?) That would be preferred solution if your WAN IP is dynamic (i.e. obtained via DHCP) or you are not sure. Example of <em>/etc/config/network</em> entry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'henet'
	option 'proto'     '6in4'
	option 'peeraddr'  '216.66.80.30'
	option 'ip6addr'   '2001:0DB8:1f0a:1359::2/64'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dynamic_ipv6_in_ipv4_tunnel_he_net_only">Dynamic IPv6-in-IPv4 tunnel (HE.net only)</h3>
<div class="paragraph">
<p>The example below illustrates a dynamic tunnel configuration for the Hurricane Electric (he.net) broker with enabled IP update.
The local IPv4 address is automatically determined and tunnelid, username and password are provided for IP update.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'henet'
	option 'proto'     '6in4'
	option 'peeraddr'  '216.66.80.30'
	option 'ip6addr'   '2001:0DB8:1f0a:1359::2/64'
	option 'tunnelid'  '12345'
	option 'username'  'myusername'
	option 'password'  '098f6bcd4621d373cade4e832627b4f6'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="l2tpv3_pseudowire_bridged_to_lan">L2TPv3 Pseudowire bridged to LAN</h3>
<div class="paragraph">
<p>This example establishes a Pseudowire Tunnel and bridges it to the LAN ports. The existing lan interface is reused with protocol <em>l2tp</em> instead of <em>static</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'lan'
	option 'proto'     'l2tp'
	option 'type'      'bridge'
	option 'ifname'    'eth0'
	option 'ipaddr'    '192.168.1.1'
	option 'netmask'   '255.255.255.0'
	option 'localaddr' '178.24.154.19'
	option 'peeraddr'  '89.44.33.61'
	option 'encap'     'udp'
	option 'sport'     '4000'
	option 'dport'     '5410'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="relay_between_lan_and_wireless_station">Relay between LAN and Wireless Station</h3>
<div class="paragraph">
<p>This example sets up a <em>relayd</em> pseudo bridge between a wireless client network and LAN, so that it works similarly to the Broadcom Bridged Client mode.</p>
</div>
<div class="paragraph">
<p>Wireless configuration (excerpt):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config wifi-iface
	option 'device'     'radio0'
	option 'mode'       'sta'
	option 'ssid'       'Some Wireless Network'
	option 'encryption' 'psk2'
	option 'key'        '12345678'
	option 'network'    'wwan'</pre>
</div>
</div>
<div class="paragraph">
<p>Network configuration (excerpt):</p>
</div>
<div class="paragraph">
<p><strong>CAUTION</strong>: Note that the LAN subnet must be different from the one used by wireless network&#8217;s DHCP.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'interface' 'lan'
	option 'ifname'     'eth0.1'
	option 'proto'      'static'
	option 'ipaddr'     '192.168.1.1'
	option 'netmask'    '255.255.255.0'

config 'interface' 'wwan'
	option 'proto'      'dhcp'

config 'interface' 'stabridge'
	option 'proto'      'relay'
	option 'network'    'lan wwan'</pre>
</div>
</div>
<div class="paragraph">
<p>In contrast to true bridging, traffic forwarded in this manner is affected by firewall rules, therefore both the wireless client network and the lan network should be covered by the same LAN firewall zone with forward policy set to <em>accept</em> to allow traffic flow between both interfaces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config 'zone'
	option 'name'        'lan'
	option 'network'     'lan wwan'  # Important
	option 'input'       'ACCEPT'
	option 'forward'     'ACCEPT'    # Important
	option 'output'      'ACCEPT'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="static_addressing_of_a_gre_tunnel">Static addressing of a GRE tunnel</h3>
<div class="paragraph">
<p>Create a GRE tunnel with static address 10.42.0.253/30, adding it to an existing firewall zone called <em>tunnels</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface mytunnel
	option proto    gre
	option zone     tunnels
	option peeraddr 198.51.100.42

config interface mytunnel_addr
	option proto    static
	option ifname   @mytunnel
	option ipaddr   10.42.0.253
	option netmask  255.255.255.252
# Fixes IPv6 multicast (long-standing bug in kernel).
# Useful if you run Babel or OSPFv3.
	option ip6addr  'fe80::42/64'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="network_management">Network management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The complete network configuration can be re-applied by running <em>/etc/init.d/network restart</em>. Individual interfaces can be brought up with <em>ifup <em>name</em></em> or down with <em>ifdown <em>name</em></em> where <em>name</em> corresponds to the <em>logical interface name</em> of the corresponding <em>config interface</em> section. An <em>ifup</em> implies a prior <em>ifdown</em> so there is no need to invoke both when reloading an interface.</p>
</div>
<div class="paragraph">
<p>Note that wireless interfaces are managed externally and <em>ifup</em> may break the relation to existing bridges. In such a case it is required to run <em>wifi up</em> after <em>ifup</em> in order to re-establish the bridge connection.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="determining_linux_interface_names">Determining Linux interface names</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to derive a Linux interface name like <em>eth1</em> from a logical network name like <em>wan</em> for use in scripts or tools like <em>ifconfig</em> and <em>route</em> the <em>uci</em> utility can be used as illustrated in the example below which opens port 22 on the interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>WANIF=$(uci -P/var/state get network.wan.ifname)
iptables -I INPUT -i $WANIF -p tcp --dport 22 -j ACCEPT</pre>
</div>
</div>
<div class="paragraph">
<p>The uci state vars are deprecated and not used anymore for network related information <a href="https:_forum.openwrt.org/viewtopic.php?pid=203787#p203787">Quoting jow in the forum</a>.
Use /lib/functions/network.sh:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>source /lib/functions/network.sh

if network_get_ipaddr addr "wan"; then
echo "IP is $addr"
fi</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple_ip_addresses">Multiple IP addresses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Assigning multiple ip addresses to the same interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface foo
	option ifname eth1
	list ipaddr 10.8.0.1/24
	list ipaddr 10.9.0.1/24
	list ip6addr fdca:abcd::1/64
	list ip6addr fdca:cdef::1/64</pre>
</div>
</div>
<div class="paragraph">
<p>Specifying multiple interfaces sharing the same device:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>config interface foo
	option ifname eth1
	option ipaddr 10.8.0.1
	option netmask 255.255.255.0
	option ip6addr fdca:abcd::1/64

config interface foo2
	option ifname eth1
	option ipaddr 10.9.0.1
	option netmask 255.255.255.0
	option ip6addr fdca:cdef::1/64</pre>
</div>
</div>
</div>
</div>

    </div>

    <!-- End Main Content -->

    <!-- Sidebar -->

    <aside class="large-3 columns">
        
            <h4>Documents</h4>
<div class="panel">
    <div id="toc" class="toc">
        <ul class="sectlevel0">
            <li><a href="index.html">Overview</a></li>
            <li><a href="config.html">Configuration</a></li>
            <li><a href="ubus.html">uBus</a></li>
            <li><a href="procd.html">Procd</a></li>
            <li><a href="uci.html">UCI Document</a></li>
            <ul class="sectlevel0">
                <li><a href="uci_dnsmasq.html">DHCP</a></li>
                <li><a href="uci_dropbear.html">Dropbear</a></li>
                <li><a href="uci_firewall.html">Firewall</a></li>
                <li><a href="uci_fstab.html">FSTab</a></li>
                <li class="active"><a href="uci_net.html">Network</a></li>
                <li><a href="uci_qos.html">QoS</a></li>
                <li><a href="uci_samba.html">Samba</a></li>
                <li><a href="uci_system.html">System</a></li>
                <li><a href="uci_wireless.html">Wireless</a></li>
            </ul>
        </ul>
    </div>
</div>

        
    </aside>

    <!-- End Sidebar -->
</div>

<!-- End Main Content and Sidebar -->


<!-- Footer -->

<footer class="row">
    <div class="large-12 columns">
        <hr/>
        <div class="row">
            <div class="large-12 columns">
                <p>Last updated 2016-05-24 14:04:48</p>
            </div>
        </div>
    </div>
</footer>

<script src="/lede-web/js/vendor/jquery.js"></script>
<script src="/lede-web/js/foundation.min.js"></script>
<script>
    $(document).foundation();

    var doc = document.documentElement;
    doc.setAttribute('data-useragent', navigator.userAgent);
</script>
</body>
</html>
